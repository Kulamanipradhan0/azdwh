-- Drop table

DROP TABLE IF EXISTS auditing.batch_information;

CREATE TABLE auditing.batch_information (
	batch_identifier int8 NOT NULL,
	batch_name text NULL,
	environment text NULL,
	business_date date NULL,
	batch_success_ind int4 NULL,
	batch_start_time timestamp NULL,
	batch_end_time timestamp NULL,
	batch_status text NULL,
	monthly_batch_ind int4 NULL,
	CONSTRAINT batch_information_pk PRIMARY KEY (batch_identifier)
)
TABLESPACE auditing_tb
;


-- Drop table

DROP TABLE IF EXISTS auditing.process_information;

CREATE TABLE auditing.process_information (
	process_identifier int8 NOT NULL,
	batch_identifier int8 NOT NULL,
	process_name varchar(50) NULL,
	process_start_time timestamp NOT NULL,
	process_end_time timestamp NULL,
	process_status text NULL,
	process_status_description text NULL,
	source_system_name text NULL,
	source_file_name varchar(50) NULL,
	number_of_source_data_records numeric(23) NULL,
	number_of_fatal_error_records numeric(23) NULL,
	number_of_warning_records numeric(23) NULL,
	target_table_name text NULL,
	number_of_inserts numeric(23) NULL,
	number_of_updates numeric(23) NULL,
	number_of_deletes numeric(23) NULL,
	CONSTRAINT process_information_pk PRIMARY KEY (process_identifier, batch_identifier, process_start_time)
)
TABLESPACE auditing_tb
;

-- Drop table

DROP TABLE IF EXISTS auditing.error_log;

CREATE TABLE auditing.error_log (
	batch_identifier int8 NULL,
	process_identifier int8 NULL,
	process_start_time timestamp NULL,
	source_system_name text NULL,
	source_file_name varchar(50) NULL,
	primary_key_columns text NULL,
	primary_key_columns_value text NULL,
	error_column text NULL,
	error_column_value text NULL,
	error_description text NULL,
	flag text NULL,
	error_identifier int4 NULL
)
TABLESPACE auditing_tb
;

-- Drop table

DROP TABLE IF EXISTS auditing.mail_checkpoint;

CREATE TABLE auditing.mail_checkpoint (
	id_batch int4 NULL,
	status varchar(255) NULL,
	subject varchar NULL,
	mail_ind int4 NULL,
	completion_time timestamp NULL,
	day_ind int4 NULL,
	month_ind int4 NULL,
	week_ind int4 NULL
)
TABLESPACE auditing_tb
;

-- Drop table

DROP TABLE IF EXISTS auditing.report_metadata;

CREATE TABLE auditing.report_metadata (
	report_id numeric(5) NOT NULL,
	report_name varchar(80) NULL,
	report_type varchar(15) NULL,
	directory varchar(80) NULL,
	last_client_report_indicator numeric(1) NULL,
	report_frequency varchar NULL,
	business_area varchar(15) NULL,
	remarks varchar(80) NULL,
	report_instance_name varchar(80) NULL,
	di_server_path varchar(100) NULL,
	CONSTRAINT report_metadata_pkey PRIMARY KEY (report_id)
)
TABLESPACE auditing_tb
;

create table public.metadata(
asin	character varying(100),
title	character varying,
brand	character varying,
categories	json,
price	numeric,
imUrl	character varying,
related	json,
description	character varying
);